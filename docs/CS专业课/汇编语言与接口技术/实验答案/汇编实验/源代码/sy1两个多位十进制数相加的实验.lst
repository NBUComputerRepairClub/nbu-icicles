Microsoft (R) Macro Assembler Version 6.11		    11/07/22 17:38:03
tempfile.asm						     Page 1 - 1


 0000				DATA SEGMENT
 0000 20 36 38 35 39 0D		DATA1 DB ' ','6','8','5','9',0DH,0AH,'$' ;数据1，以字节为单位存放字符对应ASCAL码
       0A 24
 0008 20 34 37 36 34 0D		DATA2 DB ' ', '4','7','6','4',0DH,0AH,'$'; 0DH是回车，0AH是换行 ，'$'为结束符
       0A 24
 0010				DATA ENDS

 0000				CODE SEGMENT
				  ASSUME CS:CODE,DS:DATA
 0000				START:
 0000  B8 ---- R		  MOV AX,DATA ;数据放入AX
 0003  8E D8			  MOV DS,AX   ;数据放入DS
				  
 0005  8D 16 0000 R		  LEA DX,DATA1 ;将DATA1的有效地址（偏移地址），放入DX寄存器
 0009  B4 09			  MOV AH,09H   ;09号中断，显示DX内容作为首地址的字符串
 000B  CD 21			  INT 21H 
				  
 000D  8D 16 0008 R		  LEA DX,DATA2 ;同上
 0011  B4 09			  MOV AH,09H  
 0013  CD 21			  INT 21H

 0015  8D 3E 0000 R		  LEA DI,DATA1 ;DATA1地址放入DI 变址寄存器
 0019  8D 36 0008 R		  LEA SI,DATA2 ;DATA2地址放入SI
 001D  B9 0005			  MOV CX,5 ;下面循环重复5次
 0020				BEGIN:
 0020  80 2D 30			  SUB BYTE PTR [DI],30H ;BYTE PTR [DI],DI里的地址的字符转数字
 0023  80 2C 30			  SUB BYTE PTR [SI],30H

 0026  46			  INC SI ;+1,处理下一位数据
 0027  47			  INC DI 
 0028  E2 F6			LOOP BEGIN

 002A  4E			  DEC SI ;-1 从最低位开始进行运算
 002B  4F			  DEC DI
 002C  B9 0005			  MOV CX,5 ;5位，重复5次循环

 002F  F8			  CLC ;进位清零
 0030				CALADD:
 0030  8A 05			  MOV AL,BYTE PTR [DI] ;把DI存储的地址对应的数字放入AL
 0032  12 04			  ADC AL,BYTE PTR [SI] ;把SI存储的地址对应的数字放入AL
				  
 0034  37			  AAA ;未组合的BCD调整指令
 0035  88 05			  MOV BYTE PTR [DI],AL ;两数相加，保存在DI存储的地址

 0037  4E			  DEC SI ;下一个高位的运算
 0038  4F			  DEC DI
 0039  E2 F5			LOOP CALADD
				  
 003B  47			  INC DI ;+1 结果的最高位
 003C  B9 0005			  MOV CX,5 ;重复5次
 003F				DEALRESULT:
 003F  80 05 30			  ADD BYTE PTR [DI],30H ;数字转ASCAL字符
				  
 0042  47			  INC DI ;下一位
 0043  E2 FA			LOOP DEALRESULT

				   
 0045  8D 16 0000 R		  LEA DX,DATA1 ;输出显示结果
 0049  B4 09			  MOV AH,09H
 004B  CD 21			  INT 21H 
				  
 004D  B4 4C			  MOV AH,4CH ;终止进程，返回
 004F  CD 21			  INT 21H
 0051				CODE ENDS
				END START



Microsoft (R) Macro Assembler Version 6.11		    11/07/22 17:38:03
tempfile.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

CODE . . . . . . . . . . . . . .	16 Bit	 0051	  Para	  Private 
DATA . . . . . . . . . . . . . .	16 Bit	 0010	  Para	  Private 


Symbols:

                N a m e                 Type     Value    Attr

BEGIN  . . . . . . . . . . . . .	L Near	 0020	  CODE	
CALADD . . . . . . . . . . . . .	L Near	 0030	  CODE	
DATA1  . . . . . . . . . . . . .	Byte	 0000	  DATA	
DATA2  . . . . . . . . . . . . .	Byte	 0008	  DATA	
DEALRESULT . . . . . . . . . . .	L Near	 003F	  CODE	
START  . . . . . . . . . . . . .	L Near	 0000	  CODE	

	   0 Warnings
	   0 Errors
