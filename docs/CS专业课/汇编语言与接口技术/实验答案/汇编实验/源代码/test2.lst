Microsoft (R) Macro Assembler Version 6.11		    10/22/22 10:25:58
tempfile.asm						     Page 1 - 1


 0000				DATAS SEGMENT
				    ;此处输入数据段代码  
				 
 0000 0A			BUF DB  10				    ;预定义10字节的空间
 0001  00			       DB  ?				    ;待输入完成后，自动获得输入的字符个数
 0002  000A [			       DB  10  DUP(?)    
        00
       ]
 000C 0A 0D 24			CRLF   DB  0AH, 0DH,'$'     ;换行符
				    
 000F				DATAS ENDS
				 
 0000				STACKS SEGMENT
				    ;此处输入堆栈段代码  
 0000				STACKS ENDS
				 
 0000				CODES SEGMENT
				    ASSUME CS:CODES,DS:DATAS,SS:STACKS
 0000				START:
 0000  B8 ---- R		    MOV AX,DATAS
 0003  8E D8			    MOV DS,AX
				    
 0005  8D 16 0000 R		    LEA DX,BUF                    ;接收字符串
 0009  B4 0A			    MOV AH, 0AH
 000B  CD 21			    INT 21H
				    
 000D  A0 0001 R		    MOV AL,BUF+1                  ;对字符串进行处理，buf+1标识输入字符的长度，BUF+2是字符串字符的首地址
 0010  04 02			    ADD AL,2					  ;字符长度+2
 0012  B4 00			    MOV AH, 0
 0014  8B F0			    MOV SI, AX					  ;AX是buf缓冲区总长度
 0016  C6 84 0000 R 24		    MOV BUF[SI], '$'              ;末尾添加'$'符号标识字符串结尾
 001B  8D 16 000C R		    LEA DX, CRLF                  ;换行                   
 001F  B4 09			    MOV AH, 09H							 
 0021  CD 21			    INT 21H
				  
 0023  8D 16 0002 R		    LEA DX, BUF+2                  ;输出输入的字符串
 0027  B4 09			    MOV AH, 09H							 
 0029  CD 21			    INT 21H
				   
				    
 002B  B4 4C			    MOV AH,4CH
 002D  CD 21			    INT 21H
 002F				CODES ENDS
				    END START

Microsoft (R) Macro Assembler Version 6.11		    10/22/22 10:25:58
tempfile.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

CODES  . . . . . . . . . . . . .	16 Bit	 002F	  Para	  Private 
DATAS  . . . . . . . . . . . . .	16 Bit	 000F	  Para	  Private 
STACKS . . . . . . . . . . . . .	16 Bit	 0000	  Para	  Private 


Symbols:

                N a m e                 Type     Value    Attr

BUF  . . . . . . . . . . . . . .	Byte	 0000	  DATAS	
CRLF . . . . . . . . . . . . . .	Byte	 000C	  DATAS	
START  . . . . . . . . . . . . .	L Near	 0000	  CODES	

	   0 Warnings
	   0 Errors
